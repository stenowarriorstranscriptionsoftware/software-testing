<!-- New admin.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Panel - Steno Warriors</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-database-compat.js"></script>
</head>
<body>
  <div class="main">
    <h2>Admin Panel</h2>
    <p id="admin-status" style="color: red;"></p>

    <h3>Add Test</h3>
    <input id="test-number" placeholder="Test Number" type="number">
    <input id="test-text" placeholder="Test Text">
    <button onclick="addTest()">Add Test</button>

    <h3>Edit Test</h3>
    <input id="edit-test-number" placeholder="Test Number" type="number">
    <textarea id="edit-test-text" placeholder="New Test Text"></textarea>
    <button onclick="editTest()">Edit Test</button>

    <h3>Delete Test</h3>
    <input id="delete-test-number" placeholder="Test Number" type="number">
    <button onclick="deleteTest()">Delete Test</button>

    <h3>Add Volume</h3>
    <input id="volume-number" placeholder="Volume Number" type="number">
    <input id="volume-name" placeholder="Volume Name">
    <button onclick="addVolume()">Add Volume</button>

    <h3>Delete Volume</h3>
    <input id="delete-volume-number" placeholder="Volume Number" type="number">
    <button onclick="deleteVolume()">Delete Volume</button>

    <h3>Delete Leaderboard Entry</h3>
    <input id="delete-leaderboard-id" placeholder="Leaderboard ID">
    <button onclick="deleteLeaderboardEntry()">Delete Leaderboard Data</button>

    <br><br>
    <button onclick="logout()">Logout</button>
  </div>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyDYPy1bNQ9TqexiKfBhNw6q6ert8Iigmqc",
    authDomain: "stenowarriorstest.firebaseapp.com",
    databaseURL: "https://stenowarriorstest-default-rtdb.firebaseio.com",
    projectId: "stenowarriorstest",
    storageBucket: "stenowarriorstest.appspot.com",
    messagingSenderId: "837389838529",
    appId: "1:837389838529:web:a3d3bdf391e8ef9193cc40",
    measurementId: "G-YV19HS05Y5"
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const database = firebase.database();

  auth.onAuthStateChanged(user => {
    if (!user || user.email !== 'anishkumar18034@gmail.com') {
      document.getElementById('admin-status').innerText = 'Access Denied';
      document.querySelector('.main').style.display = 'none';
      return;
    }
  });

  function addTest() {
    const testNumber = document.getElementById('test-number').value;
    const testText = document.getElementById('test-text').value;
    database.ref('textLookup/' + testNumber).set(testText);
    alert('Test added successfully!');
  }

  function editTest() {
    const testNumber = document.getElementById('edit-test-number').value;
    const testText = document.getElementById('edit-test-text').value;
    database.ref('textLookup/' + testNumber).set(testText);
    alert('Test edited successfully!');
  }

  function deleteTest() {
    const testNumber = document.getElementById('delete-test-number').value;
    database.ref('textLookup/' + testNumber).remove();
    alert('Test deleted successfully!');
  }

  function addVolume() {
    const volumeNumber = document.getElementById('volume-number').value;
    const volumeName = document.getElementById('volume-name').value;
    database.ref('volumes/' + volumeNumber).set(volumeName);
    alert('Volume added successfully!');
  }

  function deleteVolume() {
    const volumeNumber = document.getElementById('delete-volume-number').value;
    database.ref('volumes/' + volumeNumber).remove();
    alert('Volume deleted successfully!');
  }

  function deleteLeaderboardEntry() {
    const entryId = document.getElementById('delete-leaderboard-id').value;
    database.ref('leaderboard/' + entryId).remove();
    alert('Leaderboard entry deleted successfully!');
  }

  function logout() {
    auth.signOut().then(() => {
      window.location.href = 'index.html';
    });
  }
</script>
</body>
</html>

<!-- JSON Import Sample -->
<!-- Save the following content as "firebase-import.json" to import basic setup -->
<!-- Paste into Firebase > Realtime Database > Import JSON -->

{
  "volumes": {
    "1": "Test 1-50 (General Matter)",
    "2": "Test 51-100 (KC Mix Transcription)"
  },
  "textLookup": {
    "1": "Education is very important for the growth of a country...",
    "2": "Natural disasters are events that cause great damage..."
  },
  "leaderboard": {}
}
